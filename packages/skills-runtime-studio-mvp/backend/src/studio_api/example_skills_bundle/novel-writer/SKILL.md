---
name: novel-writer
description: "用结构化流程生成一篇小说：大纲→概要→分章分段→组合→一致性自检。"
metadata:
  short-description: "结构化写作（小说）"
---

# 结构化写作 Skill：小说生成（novel-writer）

## 0) 目的

把“写一篇小说”这种开放任务，拆成可回归的、可验证的步骤输出，最终交付一个可读的完整文本，并附带一致性检查报告。

注意：这是一个**方法论技能**，不提供任何外部数据/事实；不要求联网；不要求工具调用。若需要用户补充信息，必须通过 ask_human 获取，而不是猜测。

## 1) 输入约定（你必须主动确认）

当用户请求写小说时，你必须先确认以下最小信息（缺失则 ask_human）：
- 题材/类型（如：科幻/悬疑/现实主义…）
- 目标篇幅（短篇/中篇/长篇；或字数范围）
- 叙事视角（第一人称/第三人称）
- 风格约束（轻松/严肃/黑色幽默…）
- 主要角色（1-3 个）与核心冲突（1 句话）

如果用户已经提供以上信息的一部分，只询问缺失项；一次 ask_human 最多问 3 个问题，避免打断体验。

## 2) 输出契约（必须按顺序输出）

你必须按以下章节顺序输出，且每个部分都必须存在（可以简短，但不能缺失）：

1) `# 大纲`
   - 用 5-12 条 bullet 写出故事节奏与关键转折。

2) `# 故事概要`
   - 300-800 字（按用户篇幅调整），覆盖开端/发展/高潮/结局。

3) `# 章节计划`
   - 列出章标题与每章一句话目标（至少 3 章，短篇也要分章）。

4) `# 正文`
   - 按章节输出，每章至少 3 段，每段 80-200 字（可按用户字数调整）。
   - 每章开头必须有 `## 第X章：<标题>`

5) `# 一致性检查报告`
   - 以 checklist 形式检查并报告：
     - 人物设定是否前后一致（名字/动机/能力）
     - 时间线是否自洽（因果、先后）
     - 伏笔与回收是否对应（若有）
     - 叙事视角是否一致
   - 输出“发现的问题（如有）”与“建议修订（如有）”。

## 3) 过程要求（你必须遵守）

- 先规划后写：在输出正文前，必须先输出大纲/概要/章节计划。
- 不要跳步：不得直接输出全文而缺少中间结构。
- 可复盘：每个阶段输出都应可被下游复用（例如用户可以只改大纲再让你重写正文）。
- 质量底线：避免明显矛盾（如角色死亡后又出现且无解释）。

## 4) 失败与自我纠错

若你在生成过程中发现：
- 用户信息不足：立刻 ask_human。
- 生成中出现自相矛盾：在“一致性检查报告”里明确指出，并给出最小修订建议（不强行重写全文，除非用户要求）。

